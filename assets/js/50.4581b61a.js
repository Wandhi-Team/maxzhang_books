(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{373:function(s,e,t){"use strict";t.r(e);var a=t(3),v=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("用过AWS服务器的应该都知道")]),s._v(" "),e("p",[s._v("AWS的Linux服务器都是默认禁止root用户直接登陆的")]),s._v(" "),e("p",[s._v("都需要使用"),e("code",[s._v("ec2-user")]),s._v("或者"),e("code",[s._v("admin")]),s._v("用户登陆")]),s._v(" "),e("p",[s._v("然后使用"),e("code",[s._v("sudo su")]),s._v("命令获得root权限")]),s._v(" "),e("p",[s._v("这里介绍一下如何打开root登陆权限")]),s._v(" "),e("p",[s._v("本次不讲解如何更改root密码  仅使用root账户依赖密钥文件登陆")]),s._v(" "),e("h2",{attrs:{id:"改前"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#改前"}},[s._v("#")]),s._v(" 改前")]),s._v(" "),e("p",[s._v("一般情况下如果不更改的话  使用root用户登陆会得到以下提示")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("Please login as the user “admin” rather than the user “root”.\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"更改登陆方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更改登陆方式"}},[s._v("#")]),s._v(" 更改登陆方式")]),s._v(" "),e("p",[s._v("编辑SSH文件 "),e("code",[s._v("/etc/ssh/sshd_config")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("找到"),e("code",[s._v("PasswordAuthentication")])]),s._v(" "),e("p",[s._v("将后面的"),e("code",[s._v("no")]),s._v("改为"),e("code",[s._v("yes")])])]),s._v(" "),e("li",[e("p",[s._v("找到PermitRootLogin")]),s._v(" "),e("p",[s._v("将后面的"),e("code",[s._v("no")]),s._v("改为"),e("code",[s._v("yes")])])]),s._v(" "),e("li",[e("p",[s._v("最后将UsePAM 后面的"),e("code",[s._v("yes")]),s._v("改为"),e("code",[s._v("no")])])])]),s._v(" "),e("h2",{attrs:{id:"编辑authorized-keys文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编辑authorized-keys文件"}},[s._v("#")]),s._v(" 编辑"),e("code",[s._v("authorized_keys")]),s._v("文件")]),s._v(" "),e("p",[s._v("输入命令：")]),s._v(" "),e("p",[e("code",[s._v("vim /root/.ssh/authorized_keys")])]),s._v(" "),e("p",[s._v("将ssh-rsa 前面的文字全部删除，确保ssh-rsa没有任何文字，包括空格")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/maxzhang666/assets@master/img/2022/02/02/E34b2V.png",alt:"E34b2V"}})]),s._v(" "),e("h2",{attrs:{id:"重启ssh服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启ssh服务"}},[s._v("#")]),s._v(" 重启"),e("code",[s._v("ssh")]),s._v("服务")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"结束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结束"}},[s._v("#")]),s._v(" 结束")]),s._v(" "),e("p",[s._v("重新登录"),e("code",[s._v("ssh")]),s._v("即可")])])}),[],!1,null,null,null);e.default=v.exports}}]);