(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{347:function(a,e,s){"use strict";s.r(e);var i=s(3),r=Object(i.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),e("p",[a._v("现在的网站大部分都包含有社会化登陆系统")]),a._v(" "),e("p",[a._v("这里介绍一下laravel中基于Socialite扩展包的微博登陆接入")]),a._v(" "),e("h2",{attrs:{id:"socialite-翻译自官方文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socialite-翻译自官方文档"}},[a._v("#")]),a._v(" Socialite(翻译自官方文档)")]),a._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("h4",{attrs:{id:"_1-composer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-composer"}},[a._v("#")]),a._v(" 1.Composer")]),a._v(" "),e("p",[a._v("安装方式，这里推荐composer安装方式")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Composer require socialiteproviders/weibo\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"_2-注册服务提供者-service-provider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-注册服务提供者-service-provider"}},[a._v("#")]),a._v(" 2.注册服务提供者 Service Provider")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("如果你已经安装过其他的，需要先从 ==config\\app.php== 中 ==Providers== 移除  ==Laravel\\Socialite\\SocialiteServiceProvider==")])]),a._v(" "),e("li",[e("p",[a._v("在 ==config\\app.php== 中的 ==Providers== 添加 ==\\SocialiteProviders\\Manager\\ServiceProvider::class==")])])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("'providers' => [\n    // 移除 'Laravel\\Socialite\\SocialiteServiceProvider',\n    \\SocialiteProviders\\Manager\\ServiceProvider::class, \n];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h4",{attrs:{id:"_3-添加socialite门面-facades"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-添加socialite门面-facades"}},[a._v("#")]),a._v(" 3.添加Socialite门面(Facades)")]),a._v(" "),e("ul",[e("li",[a._v("==config\\app.php== 中的 ==aliases== 添加 ==Laravel\\Socialite\\Facades\\Socialite::class==")])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("'aliases' => [\n    'Socialite' => Laravel\\Socialite\\Facades\\Socialite::class,\n];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h4",{attrs:{id:"_3-添加事件监听器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-添加事件监听器"}},[a._v("#")]),a._v(" 3.添加事件监听器")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("在 ==<app_name>/Providers/EventServiceProvider== 中的 ==listen== 添加 ==SocialiteProviders\\Manager\\SocialiteWasCalled==")])]),a._v(" "),e("li",[e("p",[a._v("在 ==SocialiteProviders\\Manager\\SocialiteWasCalled[]== 创建监视者")])]),a._v(" "),e("li",[e("p",[a._v("添加的监视器为 =='SocialiteProviders\\Weibo\\WeiboExtendSocialite@handle'==")])])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("protected $listen = [\n    \\SocialiteProviders\\Manager\\SocialiteWasCalled::class => [\n        'SocialiteProviders\\Weibo\\WeiboExtendSocialite@handle',\n    ],\n];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h4",{attrs:{id:"_4-添加配置信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-添加配置信息"}},[a._v("#")]),a._v(" 4.添加配置信息")]),a._v(" "),e("p",[a._v("接着是为第三方登陆提供基本的服务凭据")]),a._v(" "),e("ul",[e("li",[a._v("这些信息你可以放在 ==config/service.php== 中")]),a._v(" "),e("li",[a._v("也可以放在env文件中")])])])}),[],!1,null,null,null);e.default=r.exports}}]);