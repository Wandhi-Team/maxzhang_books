(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{367:function(t,s,a){"use strict";a.r(s);var r=a(4),p=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"新手暴力-macs-fan-control-pro-授权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新手暴力-macs-fan-control-pro-授权"}},[t._v("#")]),t._v(" 新手暴力 Macs Fan Control Pro 授权")]),t._v(" "),s("h3",{attrs:{id:"准备工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工具"}},[t._v("#")]),t._v(" 准备工具")]),t._v(" "),s("ol",[s("li",[t._v("IDA Pro 7.0, Hopper Disassembler 5.3.4 from 52 论坛资源分享区")]),t._v(" "),s("li",[t._v("认真阅读每一行。")])]),t._v(" "),s("h3",{attrs:{id:"先上截图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#先上截图"}},[t._v("#")]),t._v(" 先上截图")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/LQqVsCzuhE2Pf4O.jpg",alt:"LQqVsCzuhE2Pf4O"}})]),t._v(" "),s("h3",{attrs:{id:"爆破步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#爆破步骤"}},[t._v("#")]),t._v(" 爆破步骤")]),t._v(" "),s("h4",{attrs:{id:"_1-寻找关键点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-寻找关键点"}},[t._v("#")]),t._v(" 1.寻找关键点")]),t._v(" "),s("p",[t._v("打开.app 文件找到 MacOS 文件夹中的“Macs Fan Control”文件复制到 Downloads 备用。")]),t._v(" "),s("p",[t._v("打开 IDA 64 和 Hopper Disassembler，并同时载入这个二进制文件:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/dkHwX2MThpb85Yr.jpg",alt:"dkHwX2MThpb85Yr"}}),t._v("\n由于我是 Intel 机器，所以选“X86”，点击 Next-OK。")]),t._v(" "),s("p",[t._v("IDA 64 中也打开此文件：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/gLVum6CFohzTre3.jpg",alt:"gLVum6CFohzTre3"}})]),t._v(" "),s("p",[t._v("由于我是 Intel 芯片，选 X86 点击 OK 即可。")]),t._v(" "),s("p",[t._v("等待两分钟，这些反汇编软件会分析完二进制机器码。")]),t._v(" "),s("h4",{attrs:{id:"_2-寻找破解关键点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-寻找破解关键点"}},[t._v("#")]),t._v(" 2.寻找破解关键点")]),t._v(" "),s("p",[t._v("一般查找特征关键就是看他是怎么判定是否 Pro 版本，然后爆破掉关键 check 函数即可。")]),t._v(" "),s("p",[t._v("这个 App 的特征就是“关于”中的显示:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/hCm57JHBnxdRQk4.jpg",alt:"hCm57JHBnxdRQk4"}})]),t._v(" "),s("p",[t._v("由于这里不小心删掉了原始文件，所以用 Patch 过的看。")]),t._v(" "),s("p",[t._v("未破解版本的关于窗口可以看到有一个“免费版本”(对应 Pro 版本，xxx 电脑授权 这行字)")]),t._v(" "),s("p",[t._v("由于 macOS 都有全球化语言，这种字显然不会是写死 App 中，我们找一下.app 文件中“/Applications/Macs Fan Control.app/Contents/Resources/languages/Chinese_Simplified.xml”的汉化文件，看下中文对应什么 key：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/qIcaYRO4z1AwlFx.jpg",alt:"qIcaYRO4z1AwlFx"}})]),t._v(" "),s("p",[t._v("既然找到了对应的 Key，就可以在二进制里搜索了。我们去 HD 里面搜这个 key：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/lSZsKhVrULGkYgf.jpg",alt:"lSZsKhVrULGkYgf"}})]),t._v(" "),s("p",[t._v("在右边按下 X 找到引用位置：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/YCBoh5Zlj6PqF4w.jpg",alt:"YCBoh5Zlj6PqF4w"}}),t._v("\nGo 过去看下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/Vto1lkQ6b5yweAX.jpg",alt:"Vto1lkQ6b5yweAX"}})]),t._v(" "),s("p",[t._v("位于 1000a355e 子程序中。")]),t._v(" "),s("p",[t._v("看不懂反汇编没关系，我也看不懂，毕竟新手。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/bv2TgFQKC6ylkem.jpg",alt:"bv2TgFQKC6ylkem"}})]),t._v(" "),s("p",[t._v("点击这个按钮，看伪代码：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/Fwi7Jxhlk1Rq36j.jpg",alt:"Fwi7Jxhlk1Rq36j"}})]),t._v(" "),s("p",[t._v("很清晰了，我们再往下翻一番：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/5V7CQnNSOkHm8LT.jpg",alt:"5V7CQnNSOkHm8LT"}})]),t._v(" "),s("p",[t._v("很轻松找到关键点。")]),t._v(" "),s("p",[t._v("可以看到在上面是默认你是 Free 版本，然后调用了一个 sub_10069210 的返回值如果不等于 0x0 即为 Pro 版本，所以我们只需要修改八个字节改成这样:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/GXolQyDs16p9EVS.jpg",alt:"GXolQyDs16p9EVS"}})]),t._v(" "),s("p",[t._v("不就能是 Pro 版本了吗？试试看！")]),t._v(" "),s("p",[t._v("返回 IDA，跳转到 "),s("code",[t._v("100069210")]),t._v(" 地址：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/HS7gVYx8WfvhIe6.jpg",alt:"HS7gVYx8WfvhIe6"}})]),t._v(" "),s("p",[t._v("把 "),s("code",[t._v("100069210")]),t._v(" 段开始位置的 Hex 改掉成为："),s("code",[t._v("6A 01 58 C3")])]),t._v(" "),s("p",[t._v("这是我改过的文件，但是地址是一样的")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/PIuftOdvlm6SFx8.jpg",alt:"PIuftOdvlm6SFx8"}})]),t._v(" "),s("p",[t._v("修改后右击选择“Apply changes”即可保存到内存。")]),t._v(" "),s("p",[t._v("然后要导出修改过的文件：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/6OYSwtJXyfqBjmU.jpg",alt:"6OYSwtJXyfqBjmU"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2023/05/12/LulXgc2Edzb7OQF.jpg",alt:"LulXgc2Edzb7OQF"}})]),t._v(" "),s("p",[t._v("点击 OK 即可爆破完成。")]),t._v(" "),s("p",[t._v("最后别忘了替换掉.app 文件中的源文件并签名才可以使用哦！")]),t._v(" "),s("h4",{attrs:{id:"_3-总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-总结"}},[t._v("#")]),t._v(" 3.总结：")]),t._v(" "),s("div",{staticClass:"language-c line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub_100069210")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("QCoreApplication"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            rax "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QString"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromAscii_helper")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AboutDialog/staticProVersion"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("code",[t._v("sub_100069210")]),t._v(" 函数返回 "),s("code",[t._v("1")]),t._v(" 即可绕过破解 因为非 "),s("code",[t._v("0")]),t._v(" 为真")]),t._v(" "),s("p",[s("code",[t._v("return 1")]),t._v(" 的 "),s("code",[t._v("X86_64")]),t._v(" 机器码为 "),s("code",[t._v("6A 01 58 C3")])]),t._v(" "),s("h3",{attrs:{id:"最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[t._v("#")]),t._v(" 最后")]),t._v(" "),s("p",[t._v("修改过的文件要替换签名，App 才能正常打开")]),t._v(" "),s("div",{staticClass:"language-c line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("codesign "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("timestamp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("none "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Applications"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Macs\\ Fan\\ Control"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Contents"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("MacOS"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Macs\\ Fan\\ Control\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("楼主新手第一次没经验，改完怎么都打不开，网上也没有帖子说这个事。幸好之前破解过 Parallels Desktop 18.0.3,记得要签名二进制文件.果然签完名就可以打开了.")]),t._v(" "),s("p",[t._v("修改过的 App 文件仅供技术研究:\nhttps://github.com/QiuChenly/MacsFanControlCrack")]),t._v(" "),s("p",[t._v("有关 PD18.0.3 的文件:\nhttps://github.com/QiuChenly/Parallels")]),t._v(" "),s("p",[t._v("官方文件下载：\nhttps://crystalidea.com/macs-fan-control")])])}),[],!1,null,null,null);s.default=p.exports}}]);