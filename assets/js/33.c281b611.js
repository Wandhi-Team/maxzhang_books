(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{498:function(s,e,t){"use strict";t.r(e);var a=t(20),v=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("用过AWS服务器的应该都知道")]),s._v(" "),t("p",[s._v("AWS的Linux服务器都是默认禁止root用户直接登陆的")]),s._v(" "),t("p",[s._v("都需要使用"),t("code",[s._v("ec2-user")]),s._v("或者"),t("code",[s._v("admin")]),s._v("用户登陆")]),s._v(" "),t("p",[s._v("然后使用"),t("code",[s._v("sudo su")]),s._v("命令获得root权限")]),s._v(" "),t("p",[s._v("这里介绍一下如何打开root登陆权限")]),s._v(" "),t("p",[s._v("本次不讲解如何更改root密码  仅使用root账户依赖密钥文件登陆")]),s._v(" "),t("h2",{attrs:{id:"改前"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改前"}},[s._v("#")]),s._v(" 改前")]),s._v(" "),t("p",[s._v("一般情况下如果不更改的话  使用root用户登陆会得到以下提示")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Please login as the user “admin” rather than the user “root”.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"更改登陆方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更改登陆方式"}},[s._v("#")]),s._v(" 更改登陆方式")]),s._v(" "),t("p",[s._v("编辑SSH文件 "),t("code",[s._v("/etc/ssh/sshd_config")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("找到"),t("code",[s._v("PasswordAuthentication")])]),s._v(" "),t("p",[s._v("将后面的"),t("code",[s._v("no")]),s._v("改为"),t("code",[s._v("yes")])])]),s._v(" "),t("li",[t("p",[s._v("找到PermitRootLogin")]),s._v(" "),t("p",[s._v("将后面的"),t("code",[s._v("no")]),s._v("改为"),t("code",[s._v("yes")])])]),s._v(" "),t("li",[t("p",[s._v("最后将UsePAM 后面的"),t("code",[s._v("yes")]),s._v("改为"),t("code",[s._v("no")])])])]),s._v(" "),t("h2",{attrs:{id:"编辑authorized-keys文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑authorized-keys文件"}},[s._v("#")]),s._v(" 编辑"),t("code",[s._v("authorized_keys")]),s._v("文件")]),s._v(" "),t("p",[s._v("输入命令：")]),s._v(" "),t("p",[t("code",[s._v("vim /root/.ssh/authorized_keys")])]),s._v(" "),t("p",[s._v("将ssh-rsa 前面的文字全部删除，确保ssh-rsa没有任何文字，包括空格")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/maxzhang666/assets@master/img/2022/02/02/E34b2V.png",alt:"E34b2V"}})]),s._v(" "),t("h2",{attrs:{id:"重启ssh服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启ssh服务"}},[s._v("#")]),s._v(" 重启"),t("code",[s._v("ssh")]),s._v("服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"结束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结束"}},[s._v("#")]),s._v(" 结束")]),s._v(" "),t("p",[s._v("重新登录"),t("code",[s._v("ssh")]),s._v("即可")])])}),[],!1,null,null,null);e.default=v.exports}}]);